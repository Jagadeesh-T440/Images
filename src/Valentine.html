<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Valentine Special üíñ</title>

    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

    <style>
        body {
            margin: 0;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: Arial, sans-serif;
            position: relative;
            overflow: hidden;
        }

        body::before {
            content: "";
            position: fixed;
            top: 50%;
            left: 50%;

            width: 100vh;
            height: 100vw;

            background-image: url("https://github.com/Jagadeesh-T440/Images/blob/main/Photos/IMG_20260210_173400_466.webp?raw=true");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;

            transform: translate(-50%, -50%) rotate(270deg);
            /* üëà rotate */
            opacity: 0.50;
            /* üëà mild */
            z-index: -1;
        }

        .card.memories-mode {
            width: 60vw;
            height: 100vh;
            max-width: 500px;
            padding: 10px;
        }

        .card {
            width: 500px;
            height: 320px;
            max-width: 90%;
            padding: 28px 30px;
            border-radius: 22px;
            text-align: center;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(12px);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
        }

        .sticker {
            width: 120px;
            margin-bottom: 5px;
        }

        h2 {
            font-size: 18px;
            color: #e6005c;
        }

        p {
            font-size: 13px;
            line-height: 1.6;
        }

        button {
            margin-top: 10px;
            padding: 10px 16px;
            border: none;
            border-radius: 10px;
            font-size: 15px;
            cursor: pointer;
        }

        .yes {
            background: #e6005c;
            color: white;
        }

        .no {
            background: #ddd;
        }

        .image-options {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin-top: 25px;
        }

        .image-option {
            width: 180px;
            height: 180px;
            border: 4px solid #e6005c;
            border-radius: 18px;
            overflow: hidden;
            cursor: pointer;
            transition: 0.25s;
        }

        .image-option:hover {
            transform: scale(1.1);
        }

        .image-option img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .option {
            background: #fff0f5;
            border: 2px solid #e6005c;
            border-radius: 10px;
            padding: 12px;
            margin-top: 15px;
            cursor: pointer;
        }

        .option:hover {
            background: #e6005c;
            color: white;
        }

        /* Hide memory image when end message is shown */
        .hide-memory-image #memoryImage {
            display: none;
        }

        /* Center the end message perfectly */
        #memoryEndMessage {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            text-align: center;
        }
    </style>
</head>

<body>

    <div class="card">
        <form id="valentineForm">

            <!-- PAGE 1 -->
            <div id="page1">
                <img id="mainSticker" class="sticker"
                    src="https://github.com/Jagadeesh-T440/Images/blob/main/Sticker/shy.png?raw=true">
                <h2 id="firstHeading">Will you be mine üíñ?</h2>
                <p>
                    Life is an incredible journey, and after marriage, I want to spend every single
                    second of it with you. For now, I‚Äôm sorry for everything ‚Äî for making you wait,
                    for the scolding, for all the tough moments. But no matter what, even then also
                    I'll scold you, because I‚Äôm in love with you.
                </p>

                <button type="button" class="yes" onclick="goSecondPage()">Yes üíñ</button>
                <button type="button" class="no" id="noBtn" onclick="handleNo()">No</button>
            </div>

            <!-- PAGE 2 -->
            <div id="page2" style="display:none;">
                <img class="sticker"
                    src="https://github.com/Jagadeesh-T440/Images/blob/main/Sticker/hugcouple.png?raw=true">

                <h2>Happy Valentine Day Thangooo! üíù</h2>

                <p>
                    Every second with you is a celebration,
                    You are the spark that makes my world so much brighter
                </p>

                <button type="button" class="yes" onclick="goPage3()">See my gifts üéÅ</button>
            </div>

            <!-- PAGE 3 -->
            <div id="page3" style="display:none;">
                <img class="sticker"
                    src="https://github.com/Jagadeesh-T440/Images/blob/main/Sticker/hugcouple.png?raw=true">

                <h2>Something for You üíñ?</h2>

                <div style="display:flex; justify-content:center; gap:2px;">

                    <button type="button" class="yes" style="width:240px; height:140px; font-size:18px;"
                        onclick="openMemories()">
                        <img src="https://github.com/Jagadeesh-T440/Images/blob/main/Sticker/shy.png?raw=true"
                            style="width:80px; height:80px;"><br>
                        Our Memories
                    </button>

                    <button type="button" class="yes" style="width:240px; height:140px; font-size:18px;"
                        onclick="startQuestions()">
                        <img src="https://github.com/Jagadeesh-T440/Images/blob/main/Sticker/monkey.png?raw=true"
                            style="width:80px; height:80px;"><br>
                        Valentine Quizz
                    </button>

                    <button type="button" class="yes" style="width:240px; height:140px; font-size:18px;"
                        onclick="openForYou()">
                        <img src="https://github.com/Jagadeesh-T440/Images/blob/main/Sticker/hugcouple.png?raw=true"
                            style="width:80px; height:80px;"><br>
                        For You üíù
                    </button>

                </div>
            </div>

            <!-- MEMORIES PAGE -->
            <div id="memoriesPage" style="display:none; text-align:center;">
                <img class="sticker"
                    src="https://github.com/Jagadeesh-T440/Images/blob/main/Sticker/babyCry.png?raw=true">
                <h2>Our Memories üíû</h2>
                <div id="memoryContainer" style="
        height:400px;
        display:flex;
        flex-direction:column;
        justify-content:center;
        align-items:center;
    ">
                    <img id="memoryImage" src="" style="width:300px; border-radius:15px;">
                </div>
                <!-- Navigation buttons -->
                <div id="memoryButtons" style="margin-top:1px;">
                    <button class="no" onclick="prevMemory(event)"
                        style="font-size:16px; margin-right:1px;">Previous</button>
                    <button class="yes" onclick="nextMemory(event)" style="font-size:16px;">Next</button>
                </div>

                <div id="memoryEndMessage" style="
    margin-top:20px; 
    color:#e6005c; 
    font-weight:bold; 
    display:none;
    font-size:20px;
    text-align:center;
">
                    ‚ù§Ô∏è You have seen all memories! <br><br>

                    <div style="display:flex; justify-content:center; gap:15px;">
                        <button type="button" class="no" onclick="finalBack()">Back</button>
                        <button type="button" class="yes" onclick="finalThanks()">Thank You</button>
                    </div>
                </div>
            </div>

            <!-- FOR YOU PAGE -->
            <div id="forYouPage" style="display:none; text-align:center;">
                <img src="https://github.com/Jagadeesh-T440/Images/blob/main/Sticker/hugcouple.png?raw=true"
                    style="width:220px; border-radius:18px; margin-bottom:15px;">

                <p style="font-size:14px; line-height:1.8; color:#444;">
                    ‚ÄúIn all the chaos of life, loving you is the calm I never knew I needed.
                    Every smile of yours feels like home, and every moment with you
                    is my favorite story.‚Äù
                </p>

                <button type="button" class="no" onclick="backToGifts()">Back</button>
            </div>


            <!-- QUESTIONS -->
            <div id="questions" style="display:none;">
                <h2 id="question"></h2>
                <div id="options"></div>

                <input type="hidden" name="reply_to" value="jagathiyagu540@gmail.com">
                <input type="hidden" name="favourite_image">
                <input type="hidden" name="favourite_dish">
                <input type="hidden" name="favourite_song">
                <input type="hidden" name="movie_mood">
                <input type="hidden" name="like_level">

                <div id="doneScreen" style="display:none; text-align:center; margin-top:50px;">
                    <img src="https://github.com/Jagadeesh-T440/Images/blob/main/Sticker/hugcouple.png?raw=true"
                        style="width:120px; margin-bottom:10px;" alt="Done with love sticker">
                    <h2 style="color:#e6005c;">üíñ Done with Love</h2>

                    <div style="display:flex; justify-content:center; gap:20px; margin-top:50px;">
                        <button type="button" class="no" onclick="submitAndBack()">Back</button>
                        <button type="button" class="yes" onclick="submitAndThanks()">Thank You</button>
                    </div>
                </div>

            </div>

        </form>
    </div>

    <script>
        (function () {
            emailjs.init("nVwi7vLAOpQnygoJl");
        })();

        const noTexts = [
            "See Sticker - You Don't Want",
            "Nope? My heart just cracked üíî",
            "Are you playing hard to get?",
            "This button is getting tired üò¥",
            "Come on‚Ä¶ just one click Yesü•∫",
            "YES üíñ"
        ];

        const noStickers = [
            "https://github.com/Jagadeesh-T440/Images/blob/main/Sticker/monkey.png?raw=true",
            "https://github.com/Jagadeesh-T440/Images/blob/main/Sticker/HeartCracked.png?raw=true",
            "https://github.com/Jagadeesh-T440/Images/blob/main/Sticker/why.png?raw=true",
            "https://github.com/Jagadeesh-T440/Images/blob/main/Sticker/babyCry.png?raw=true",
            "https://github.com/Jagadeesh-T440/Images/blob/main/Sticker/babyCryingmore.png?raw=true",
            "https://github.com/Jagadeesh-T440/Images/blob/main/Sticker/breakBear.png?raw=true"
        ];

        let noIndex = 0;

        function handleNo() {
            const noBtn = document.getElementById("noBtn");
            const sticker = document.getElementById("mainSticker");

            noBtn.innerText = noTexts[noIndex];
            sticker.src = noStickers[noIndex];

            noIndex++;

            if (noIndex === noTexts.length) {
                document.getElementById("firstHeading").innerText =
                    "U crossed your limits silently click Yes üò°";
                noBtn.onclick = goSecondPage;
            }
        }

        function goSecondPage() {
            document.getElementById("page1").style.display = "none";
            document.getElementById("page2").style.display = "block";
        }

        function startQuestions() {
            document.getElementById("page2").style.display = "none";
            document.getElementById("page3").style.display = "none";
            document.getElementById("questions").style.display = "block";
            loadQuestion();
        }

        const questions = [
            {
                q: "üíñ Favourite Image?",
                type: "image",
                field: "favourite_image",
                options: [
                    { value: "Image", img: "https://github.com/Jagadeesh-T440/Images/blob/main/image%20(3)%201.png?raw=true" },
                    { value: "Couple", img: "https://github.com/Jagadeesh-T440/Images/blob/main/profile.png?raw=true" },
                    { value: "Rose", img: "https://images.unsplash.com/photo-1509042239860-f550ce710b93?w=800" }
                ]
            },
            { q: "üçï Favourite Dish?", field: "favourite_dish", options: ["Pizza üçï", "Biryani üçõ", "Burger üçî"] },
            { q: "üéµ Favourite Song?", field: "favourite_song", options: ["Romantic üíï", "Melody üé∂", "Rock üé∏"] },
            { q: "üé¨ Movie Mood?", field: "movie_mood", options: ["Love ‚ù§Ô∏è", "Comedy üòÇ", "Action üî•"] },
            { q: "üíñ How much do you like me?", field: "like_level", options: ["So much üòç", "Too much ü•∞", "Infinity ‚ôæÔ∏è"] }
        ];

        let current = 0;

        function loadQuestion() {
            const q = questions[current];
            document.getElementById("question").innerText = q.q;
            const optionsDiv = document.getElementById("options");
            optionsDiv.innerHTML = "";

            if (q.type === "image") {
                const c = document.createElement("div");
                c.className = "image-options";
                q.options.forEach(o => {
                    const d = document.createElement("div");
                    d.className = "image-option";
                    d.innerHTML = `<img src="${o.img}">`;
                    d.onclick = () => selectOption(q.field, o.value);
                    c.appendChild(d);
                });
                optionsDiv.appendChild(c);
            } else {
                q.options.forEach(o => {
                    const d = document.createElement("div");
                    d.className = "option";
                    d.innerText = o;
                    d.onclick = () => selectOption(q.field, o);
                    optionsDiv.appendChild(d);
                });
            }
        }

        function selectOption(field, value) {
            document.querySelector(`[name="${field}"]`).value = value;
            current++;

            if (current < questions.length) {
                loadQuestion();
            } else {
                // hide question & options
                document.getElementById("question").style.display = "none";
                document.getElementById("options").style.display = "none";

                // show done screen
                document.getElementById("doneScreen").style.display = "block";
            }
        }



        function goPage3() {
            document.getElementById("page2").style.display = "none";
            document.getElementById("page3").style.display = "block";
        }

        function openMemories() {
            document.getElementById("page3").style.display = "none";
            document.getElementById("memoriesPage").style.display = "block";
            const text = document.getElementById("memoryText");
            let pos = -200;
            setInterval(() => {
                pos += 1;
                text.style.bottom = pos + "px";

                // reset scroll when all images have scrolled up
                if (pos > text.scrollHeight) {
                    pos = -200;
                }
            }, 50);
        }

        const memories = [
            "https://github.com/Jagadeesh-T440/Images/blob/main/Sticker/shy.png?raw=true",
            "https://github.com/Jagadeesh-T440/Images/blob/main/Sticker/hugcouple.png?raw=true",
            "https://github.com/Jagadeesh-T440/Images/blob/main/Sticker/monkey.png?raw=true"
        ];

        let currentMemory = 0;

        function openMemories() {

            document.querySelector(".card").classList.add("memories-mode");
            document.getElementById("page3").style.display = "none";
            document.getElementById("memoriesPage").style.display = "block";
            currentMemory = 0;
            document.getElementById("memoryEndMessage").style.display = "none";
            document.getElementById("memoryButtons").style.display = "block";
            resetMemoryContainer();
            showMemory();
        }

        function showMemory() {
            const img = document.getElementById("memoryImage");
            const card = document.querySelector(".card");

            img.src = memories[currentMemory];

            if (currentMemory === memories.length - 1) {
                document.getElementById("memoryEndMessage").style.display = "block";
                document.getElementById("memoryButtons").style.display = "none";

                card.classList.add("hide-memory-image"); // üëà HIDE IMAGE
            } else {
                document.getElementById("memoryEndMessage").style.display = "none";
                document.getElementById("memoryButtons").style.display = "block";

                card.classList.remove("hide-memory-image"); // üëà SHOW IMAGE
            }
        }



        function nextMemory(event) {
            event.preventDefault();
            if (currentMemory < memories.length - 1) {
                currentMemory++;
                showMemory();
            }
        }

        function prevMemory(event) {
            event.preventDefault();
            if (currentMemory > 0) {
                currentMemory--;
                showMemory();
            }
        }
        // Final Back button clicked
        function finalBack() {
            showFinalMemory(currentMemory, "https://github.com/Jagadeesh-T440/Images/blob/main/Sticker/monkey.png?raw=true");
        }

        // Final Thank You button clicked
        function finalThanks() {
            showFinalMemory(currentMemory, "https://github.com/Jagadeesh-T440/Images/blob/main/Sticker/hugcouple.png?raw=true");
        }

        // Show one memory full screen for 5 seconds then redirect
        function showFinalMemory(memoryIndex, imageURL) {
            const container = document.getElementById("memoryContainer");

            // Save original container HTML so we can reset later
            const originalHTML = container.innerHTML;

            // Make container full screen
            container.style.height = "80vh";
            container.style.flexDirection = "column";
            container.style.justifyContent = "center";
            container.style.alignItems = "center";

            // Show the specific image for Back or Thank You
            container.innerHTML = `<img src="${imageURL}" style="max-width:90%; max-height:90%; border-radius:20px;">`;

            // Hide buttons and end message
            document.getElementById("memoryEndMessage").style.display = "none";
            document.getElementById("memoryButtons").style.display = "none";

            // After 5 seconds, redirect back to Page 2
            setTimeout(() => {
                // Restore original container
                container.innerHTML = originalHTML;
                container.style.height = "400px";
                container.style.flexDirection = "column";
                container.style.justifyContent = "center";
                container.style.alignItems = "center";

                document.getElementById("memoriesPage").style.display = "none";
                document.getElementById("page2").style.display = "block";
                // üëá RESET CARD SIZE BACK TO NORMAL
                document.querySelector(".card").classList.remove("memories-mode");
            }, 5000);
        }

        function resetMemoryContainer() {
            const container = document.getElementById("memoryContainer");
            container.innerHTML = `<img id="memoryImage" src="" style="width:300px; border-radius:15px; margin-bottom:15px;">`;
            container.style.height = "400px";
            container.style.flexDirection = "column";
            container.style.justifyContent = "center";
            container.style.alignItems = "center";
        }

        function openForYou() {
            document.getElementById("page3").style.display = "none";
            document.getElementById("forYouPage").style.display = "block";
            // üëá USE MEMORIES CARD SIZE
            document.querySelector(".card").classList.add("memories-mode");
        }

        function backToGifts() {
            document.getElementById("forYouPage").style.display = "none";
            document.getElementById("page3").style.display = "block";
            // üëá REMOVE MEMORIES CARD SIZE (NORMAL CARD)
            document.querySelector(".card").classList.remove("memories-mode");
        }
        function submitAndBack() {
            sendMailThenRedirect();
        }

        function submitAndThanks() {
            sendMailThenRedirect();
        }

        function sendMailThenRedirect() {
            const form = document.getElementById("valentineForm");

            emailjs.sendForm("service_aubl0nx", "template_auhr0z9", form).then(() => {
                // reset UI
                document.getElementById("questions").style.display = "none";
                document.getElementById("doneScreen").style.display = "none";

                // normal card mode
                document.querySelector(".card").classList.remove("memories-mode");

                // redirect to page 2
                document.getElementById("page2").style.display = "block";

                // reset for next time
                current = 0;
                document.getElementById("question").style.display = "block";
                document.getElementById("options").style.display = "block";
            });
        }





    </script>

</body>

</html>
